<!DOCTYPE html>
<html lang="en">
<head>
		<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">
		<link rel="stylesheet" href="css/datatables/datatables.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src = "https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src = "https://code.highcharts.com/highcharts.js"></script> 
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/datatables/datatables.css">
      <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
      <script src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>
      <script src="https://cdn.datatables.net/1.12.1/css/jquery.dataTables.min.css"></script>
      <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
      <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/datatables/1.9.4/jquery.dataTables.min.js"></script>
    <script src="js/datatables/datatables.js"></script>

    <style>
      th, td, p, input, h3 {
          font:18px 'Segoe UI';
      }
      table, th, td {
          border: solid 1px #ddd;
          border-collapse: collapse;
          padding: 2px 3px;
          text-align: center;
      }
      tr:nth-child(even) {
          background-color: #D6EEEE;
      }
      th {
          font-weight:bold;
          background-color: #11c9e1c9;
      }
      pre {
         overflow-x: auto;
         white-space: pre-wrap;
         white-space: -moz-pre-wrap;
         white-space: -pre-wrap;
         white-space: -o-pre-wrap;
         word-wrap: break-word;
         line-height: 2;
      }
      
      
  </style>
</head>
<body>
		<div id="wrap">
			<div class="container">


        <div>
          <button type='button' onclick='srcIpTable()' value='Source IP Addresses'>Source IP Addresses</button>    
        </div>
        <table id="showData">
          <thead>
          <tr>
              <th>Name</th>
              <th>USN</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td>Dhanush</td>
              <td>1at18is027</td>
          </tr>
          <tr>
            <td>seena</td>
            <td>1rv18cs030</td>
        </tr>
        <tr>
          <td>karan</td>
          <td>1at18is027</td>
      </tr>
      <tr>
        <td>ashish</td>
        <td>1rv18cs030</td>
    </tr><tr>
      <td>aditya</td>
      <td>1at18is027</td>
  </tr>
  <tr>
    <td>anoop</td>
    <td>1rv18cs030</td>
</tr><tr>
  <td>vishwas</td>
  <td>1at18is027</td>
</tr>
<tr>
<td>girish</td>
<td>1rv18cs030</td>
</tr><tr>
<td>goutam</td>
<td>1at18is027</td>
</tr>
<tr>
<td>manoj</td>
<td>1rv18cs030</td>
</tr><tr>
<td>vijay</td>
<td>1at18is027</td>
</tr>
<tr>
<td>suraj</td>
<td>1rv18cs030</td>
</tr>
        </tbody>
      </table> 




            <table id="example" class="display" style="width:100%">
              
                </table>
      
			</div>
		</div>
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.12.1/css/jquery.dataTables.min.css"></script>
		<script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/datatables/1.9.4/jquery.dataTables.min.js"></script>
		<script src="js/datatables/datatables.js"></script>
		<script type="text/javascript">
		$(document).ready(function () {
    $('#example').DataTable({
        lengthMenu: [
            [10, -1],
            [10, 'All'],
        ],
    });
});
$(document).ready(function () {
    $('#showData').DataTable({
        lengthMenu: [
            [10, 20, 30, 40, 50, -1],
            [10, 20, 30, 40, 50, 'All'],
        ],
    });
});

		</script>
<script>
	// scroll down for ES6 features. 
    function srcIpTable(){
        var tableVal = []
        tableVal=$.getJSON("http://127.0.0.1:5000/metrics/srcipOut",function() {
        console.log(tableVal.responseJSON);
        finTable=tableVal.responseJSON
        //console.log(finBooks)
        tableFromJson(finTable)
    })}
    
    
    


    function tableFromJson(finTable) {
        var col = [];
        for (var i = 0; i < finTable.length; i++) {
            for (var key in finTable[i]) {
                if (col.indexOf(key) === -1) {
                    col.push(key);
                }
            }
        }

        // Create a table.
        var table = document.createElement("table");
        var tr = table.insertRow(-1);                   // table row.

        for (var i = 0; i < col.length; i++) {
            var th = document.createElement("th");      // table header.
            th.innerHTML = col[i];
            tr.appendChild(th);
        }

        // add json data to the table as rows.
        for (var i = 0; i < finTable.length; i++) {

            tr = table.insertRow(-1);

            for (var j = 0; j < col.length; j++) {
                var tabCell = tr.insertCell(-1);
                tabCell.innerHTML = finTable[i][col[j]];
            }
        }

        // Now, add the newly created table with json data, to a container.
        var divShowData = document.getElementById('showData');
        divShowData.innerHTML = "";
        divShowData.appendChild(table);
        
    }
   
</script>


</body>
</html>







  
    

